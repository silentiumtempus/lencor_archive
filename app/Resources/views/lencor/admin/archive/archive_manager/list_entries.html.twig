{% extends 'base.html.twig' %}

{% block sidebar %}
    <div class="section actions">
        <!-- css removed from button: btn-block  -->
        <a href="{{ path('entries_new') }}" class="btn btn-lg create-button btn-success">
            <i class="fa fa-pencil" aria-hidden="true"></i> {{ 'action.create_post'|trans }}
        </a>
    </div>
    {{ parent() }}
{% endblock %}

 {% block javascripts %}
     {{ parent() }}
     <script type="text/javascript" src="{{ asset('js/searchform-loader.js') }}"></script>
 {% endblock %}

{% block main %}

    <h1>{{ 'title.post_list'|trans }}</h1>
    {{ form_start(searchForm) }}

    <table class="table table-striped table-middle-aligned" id="main-table" data-path="{{ path('entries') }}">
        <tr>
            <td></td>
            <td colspan="9">{{ form_row(searchForm.resetButton) }}</td>
        </tr>
        <tr>
            <td></td>
            <td>{{ form_row(searchForm.year) }}</td>
            <td>{{ form_row(searchForm.factory) }}</td>
            <td>{{ form_row(searchForm.setting) }}</td>
            <td>{{ form_row(searchForm.archiveNumber, { 'attr' : {'placeholder' : 'Введите архивный номер'}}) }}</td>
            <td>{{ form_row(searchForm.registerNumber, { 'attr' : {'placeholder' : 'Введите регистрационный номер'}}) }}</td>
            <td>{{ form_row(searchForm.contractNumber, { 'attr' : {'placeholder' : 'Введите номер договора'}}) }}</td>
            <td>{{ form_row(searchForm.fullConclusionName, { 'attr' : {'placeholder' : 'Введите полное название заключения'}}) }}</td>
            <td>{{ form_row(searchForm.submitButton) }}</td>
            <td></td>
            {{ form_errors(searchForm) }}
            {{ form_end(searchForm) }}
        </tr>
        <tr class="archive-search-header">
            <td></td>
            <td scope="col">{{ 'label.year'|trans }}</td>
            <td scope="col">{{ 'label.factory'|trans }}</td>
            <td scope="col">{{ 'label.setting'|trans }}</td>
            <td scope="col">{{ 'label.archive_number'|trans }}</td>
            <td scope="col">{{ 'label.register_number'|trans }}</td>
            <td scope="col">{{ 'label.contract_number'|trans }}</td>
            <td scope="col">{{ 'label.conclusion_fullname'|trans }}</td>
            <td scope="col" class="text-center"><i class="fa fa-info" aria-hidden="true"></i> {{ 'label.info'|trans }}</td>
            <td scope="col" class="text-center"><i class="fa fa-cogs" aria-hidden="true"></i> {{ 'label.actions'|trans }}</td>
        </tr>
        <tbody id="main-tbody">
        {% for entry in archiveEntries %}
            <tr>
                <td id="{{ entry.id }}"><a href="#" name="entryid" style=" color: #2c3e50;"><i class="fa fa-angle-down"></i><i class="fa fa-folder-o"> </i></a></td>
                <td>{{ entry.year }}</td>
                <td>{{ entry.factory.factoryName }}</td>
                <td>{{ entry.setting.settingName }}</td>
                <td>{{ entry.archiveNumber }}</td>
                <td>{{ entry.registerNumber }}</td>
                <td>{{ entry.contractNumber }}</td>
                <td>{{ entry.fullConclusionName }}</td>
                <td>
                    <i class="fa fa-ban" id="isRemoved"> </i>
                    <i class="fa fa-check-circle" id="checkPassed"> </i>
                    <i class="fa fa-exclamation-triangle" id="checkError"> </i>
                </td>
                <td class="entry-details-icons">
                    <a href="#" name="uploadFiles" id="{{ entry.id }}"><i class="fa fa-upload"></i></a>&nbsp;
                    <a href="#" name="createCatalogue" id="{{ entry.id }}"><i class="fa fa-plus-square-o" id="createCatalogue"></i><i class="fa fa-folder-o"></i></a>&nbsp;
                    <a href="#"><i class="fa fa-edit" title="Редактировать"> </i></a>
                    <a href="#" name="removeEntry" id="{{ entry.id }}"><i class="fa fa-trash" title="Пометить к удалению"> </i></a>
                    <a href="#"><i class="fa fa-history" title="Открыть записи изменений"> </i></a>
                </td>
            </tr>
            <tr class="row-content" style="">

                <td id="entryContent_{{ entry.id }}" class="entry-content-container entry-content" style="display: none" colspan="10">

                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="9" align="center">{{ 'post.no_posts_found'|trans }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <div id="addFolder" class="folder-add">
    </div>
    <div id="addFile" class="file-add">
    </div>
    <div id="downloadFile" class="file-download">
    </div>
{% endblock %}